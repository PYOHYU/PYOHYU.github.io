---
title:  "1.2 영상 출력"
excerpt: 

categories:
  - Robot
tags:
  - [Vision]

toc: true
toc_sticky: true
 
date: 2022-04-12
last_modified_at: 2022-04-12

use_math: true
published: true
---

<br>

***

### 1.2.1 화면에 영상 출력

<br>

OpenCV는 영상 데이터를 `Mat` 클래스로 표현한다. `Mat` 클래스에 대한 자세한 설명은 Ch. 3으로 미루고, 지금은 그냥 그렇다고만 알고 있자.

`Mat` 클래스는 namespace `cv` 내에서 정의된다. 영상은 0~255 사이 값을 성분으로 갖는 행렬로 표현될 수 있으므로 영상 파일을 출력하기 위해서는 영상으로부터 `Mat` 객체를 생성하고, 이 객체를 화면에 출력하는 OpenCV 함수를 호출하면 된다.

<br>

먼저 출력할 영상이 프로젝트 폴더 내에 존재해야 한다. 편의 상 프로젝트 폴더 내에 `asset` 폴더를 만들고 그 안에 사진을 집어넣자. 이때 폴더는 해당 코드와 같은 공간에 있어야 한다.

다음은 예시로 사용할 `example.jpg` 파일.

<br>

<p align="center"><img src="/assets/image/vision/ch1/1.10.jpg" width="50%" height="50%" title="" alt=""><br/></p>

<script src="https://gist.github.com/PYOHYU/e9b3ea856fe805a08d36bf9c9178fdce.js"></script>

```
Line 9 : Mat 클래스 타입의 변수 img 선언

Line 10 : imread() 함수로부터 example.jpg 파일을 불러온다. 불러온 파일을 img 라는 변수에 저장한다. 이때 불러오고자 하는 파일의 상대적인 경로를 지정한다.

Line 12~16 : 파일을 제대로 불러오지 못했을 때를 위한 예외 처리.

Line 18 : namedWindow() 함수는 영상을 출력하기 위한 새로운 창을 생성한다. 이 창의 이름은 image이다.

Line 19 : imshow() 함수는 image라는 이름의 창에 img 객체가 갖고 있는 영상 파일을 출력한다.

Line 21 : waitKey() 함수는 사용자의 키보드 입력을 기다린다. 사용자가 키보드를 누르기 전까지 영상을 화면에 계속 출력하는 것. 키보드를 누르면 Line 21을 지나 return을 맞이하게 된다.
```

<br>

<p align="center"><img src="/assets/image/vision/ch1/1.11.png" width="" height="" title="" alt=""><br/></p>

뒤쪽 terminal 창에 있는 잔뜩 나오는 코드들은 debug 모드에서 실행했을 때 나오는 메세지들이다. Release 모드로 바꾸면 나오지 않는다. 오류가 아니니 안심할 것.